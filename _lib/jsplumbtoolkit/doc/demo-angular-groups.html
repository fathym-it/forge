<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>jsPlumb Toolkit - documentation</title>
        <link href="../../css/main.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet">
<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link href="../css/main.css" rel="stylesheet">



        <link rel="stylesheet" href="../css/jsplumbtoolkit-defaults.css">
        <link rel="stylesheet" href="../css/jsplumbtoolkit-demo.css">
        <link rel="stylesheet" href="../css/jsplumb-doc.css">
    </head>

    <body>

        <div class="jtk-header">
    <a class="jtk-logo" href="../index.html"><img src="../img/logo-medium-jsplumb.png"></a>

    <div class="jtk-nav">
        <li><a href="../index.html#demos">DEMOS</a></li>
<li><a href="../doc/home.html">DOCS</a></li>
<li><a href="../apidocs/index.html">APIDOCS</a></li>

    </div>

</div>


        <div class="jtk-page-container padding-top-page " style="display:flex;">
            <div id="docs-nav" tabindex="0">
                <ul>
<li>Introduction

<ul>
<li><a href="home.html">Home</a></li>
<li><a href="basic-concepts.html">Basic Concepts</a></li>
<li><a href="basic-concepts.html#instantiating">Instantiating the Toolkit</a></li>
<li><a href="basic-concepts.html#basicloading">Loading Data</a></li>
<li><a href="basic-concepts.html#rendering">Rendering</a></li>
<li><a href="getting-started.html">Creating an app</a></li>
</ul></li>
<li>Data Model

<ul>
<li><a href="data-model.html">Overview</a></li>
<li><a href="data-model.html#format">Data Format</a></li>
<li><a href="data-model.html#node-edge-port-id">Node, Group, Edge and Port IDs</a></li>
<li><a href="data-model.html#node-edge-port-type">Node, Group, Edge and Port Type</a></li>
<li><a href="data-model.html#datafactories">Data Factories</a></li>
<li><a href="graph.html">Graph Operations</a></li>
</ul></li>
<li>Rendering

<ul>
<li><a href="rendering.html">Overview</a></li>
<li><a href="views.html">Configuring a View</a></li>
<li><a href="templating.html">Templating</a></li>
<li><a href="groups.html">Groups</a></li>
<li><a href="layouts.html">Layouts</a></li>
<li><a href="ui-states.html">UI States</a></li>
<li><a href="path-tracing.html">Path Tracing</a></li>
<li><a href="rendering.html#visibility">Hiding/Showing Elements</a></li>
<li><a href="rendering.html#dragpalette">Drag &amp; Drop Nodes</a></li>
<li><a href="navigation.html">Navigating your Dataset</a></li>
<li><a href="widget-surface.html#zooming">Zooming</a></li>
<li><a href="widget-surface.html">Surface Widget</a></li>
</ul></li>
<li>Data Management

<ul>
<li><a href="loading-and-saving-data.html">Loading &amp; Saving Data</a></li>
<li><a href="updating-data.html">Updating Data</a></li>
</ul></li>
<li>CSS

<ul>
<li><a href="css.html">Overview</a></li>
<li><a href="css.html#defaultcss">Default CSS Stylesheet</a></li>
<li><a href="css.html#ref">Class Reference</a></li>
</ul></li>
<li>Events

<ul>
<li><a href="events.html">Overview</a></li>
<li><a href="events.html#toolkit">Toolkit Events</a></li>
<li><a href="events.html#surface">Rendering Events</a></li>
</ul></li>
<li>Selecting Content

<ul>
<li><a href="selections.html">Selections</a></li>
<li><a href="selections.html#filter">Filtering</a></li>
<li><a href="paths.html">Paths</a></li>
</ul></li>
<li>Library Integrations

<ul>
<li><a href="angular-1.x-integration">Angular 1.x</a></li>
<li><a href="angular-integration.html">Angular 4/Angular 2</a></li>
<li><a href="react-integration.html">React</a> </li>
<li><a href="vue2-integration.html">Vue 2</a> </li>
</ul></li>
<li>Demonstrations<br>

<ul>
<li><a href="demo-hierarchical.html">Hierarchical Layout</a></li>
<li><a href="multiple-hierarchy.html">Hierarchy (multiple roots)</a></li>
<li><a href="demo-spring.html">Spring Layout</a></li>
<li><a href="demo-circular.html">Circular Layout</a></li>
<li><a href="demo-multiple.html">Multiple Renderers</a></li>
<li><a href="demo-paths.html">Path Tracing</a></li>
<li><a href="demo-absolute.html">Absolute Layout</a></li>
<li><a href="demo-database-visualizer.html">Database Visualizer</a></li>
<li><a href="demo-flowchart-builder.html">Flowchart Builder</a></li>
<li><a href="demo-angular-1.x">Angular 1.x Integration</a></li>
<li><a href="demo-angular.html">Angular 4 / Angular 2 Integration (Typescript)</a></li>
<li><a href="demo-react.html">React Integration</a></li>
<li><a href="demo-vue2.html">Vue 2 Integration</a></li>
<li><a href="demo-hello-world.html">Hello World</a></li>
<li><a href="demo-groups.html">Groups</a></li>
<li><a href="demo-angular-1.x-groups">Groups (Angular)</a></li>
<li><a href="demo-angular-groups.html">Groups (Angular 2)</a></li>
<li><a href="demo-active-filtering.html">Active Filtering</a></li>
<li><a href="demo-webpack.html">Webpack Bundling</a></li>
</ul></li>
<li>Miscellaneous

<ul>
<li><a href="dialogs.html">Dialogs</a></li>
<li><a href="drawing.html">Drawing</a></li>
<li><a href="changelog.html">Changelog</a></li>
</ul></li>
</ul>


            </div>
            <div id="docs">                
                <div class="markdown-body">
                    <p><a id="top"></a></p>

<h2>Groups</h2>

<p>This demonstration is a clone of the Groups demo, but using the Toolkit&#39;s Angular 2 integration.  jsPlumb&#39;s Angular 2 
integration and demonstrations are based on the <a href="https://angular.io/docs/ts/latest/quickstart.html">Angular 2 Quickstart Guide</a>. </p>

<p><img src="demo-groups-app.png" alt="Groups Demo"></p>

<ul>
<li><a href="#package">package.json</a></li>
<li><a href="#setup">Page Setup</a></li>
<li><a href="#typescript-setup">Typescript Setup</a></li>
<li><a href="#systemjs-setup">SystemJS Setup</a></li>
<li><a href="#templates">Templates</a></li>
<li><a href="#loading">Data Loading</a></li>
<li><a href="#bootstrap">Bootstrap</a></li>
<li><a href="#components">Components</a></li>
<li><a href="#toolkitParams">Toolkit Parameters</a></li>
<li><a href="#renderParams">Surface Parameters</a></li>
<li><a href="#view">View</a></li>
<li><a href="#initialisation">Initialisation</a></li>
<li><a href="#behaviour">Behaviour</a></li>
<li><a href="#selecting">Selecting Nodes</a></li>
<li><a href="#adding">Adding New Nodes</a></li>
<li><a href="#addingGroups">Adding New Groups</a></li>
<li><a href="#deleting">Deleting Nodes</a></li>
<li><a href="#collapsing">Collapsing/Expanding Groups</a></li>
</ul>

<p><a id="package"></a></p>

<h3>package.json</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
    <span class="s2">&quot;scripts&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;tscr&quot;</span><span class="o">:</span><span class="s2">&quot;tsc -traceResolution&quot;</span><span class="p">,</span>
        <span class="s2">&quot;tsc&quot;</span><span class="o">:</span><span class="s2">&quot;tsc&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;dependencies&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;@angular/common&quot;</span><span class="o">:</span> <span class="s2">&quot;~2.4.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;@angular/compiler&quot;</span><span class="o">:</span> <span class="s2">&quot;~2.4.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;@angular/core&quot;</span><span class="o">:</span> <span class="s2">&quot;~2.4.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;@angular/forms&quot;</span><span class="o">:</span> <span class="s2">&quot;~2.4.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;@angular/http&quot;</span><span class="o">:</span> <span class="s2">&quot;~2.4.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;@angular/platform-browser&quot;</span><span class="o">:</span> <span class="s2">&quot;~2.4.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;@angular/platform-browser-dynamic&quot;</span><span class="o">:</span> <span class="s2">&quot;~2.4.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;@angular/router&quot;</span><span class="o">:</span> <span class="s2">&quot;~3.4.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;@angular/upgrade&quot;</span><span class="o">:</span> <span class="s2">&quot;~2.4.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;systemjs&quot;</span><span class="o">:</span> <span class="s2">&quot;0.19.40&quot;</span><span class="p">,</span>
        <span class="s2">&quot;core-js&quot;</span><span class="o">:</span> <span class="s2">&quot;^2.4.1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;reflect-metadata&quot;</span><span class="o">:</span> <span class="s2">&quot;^0.1.8&quot;</span><span class="p">,</span>
        <span class="s2">&quot;rxjs&quot;</span><span class="o">:</span> <span class="s2">&quot;~5.0.2&quot;</span><span class="p">,</span>
        <span class="s2">&quot;zone.js&quot;</span><span class="o">:</span> <span class="s2">&quot;^0.7.4&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jsplumbtoolkit&quot;</span><span class="o">:</span><span class="s2">&quot;file:../../jsplumbtoolkit.tgz&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jsplumbtoolkittypes&quot;</span><span class="o">:</span><span class="s2">&quot;file:../../types/jsplumbtoolkit&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jsplumbtypes&quot;</span><span class="o">:</span><span class="s2">&quot;file:../../types/jsplumb&quot;</span><span class="p">,</span>
        <span class="s2">&quot;font-awesome&quot;</span><span class="o">:</span> <span class="s2">&quot;^4.7.0&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;devDependencies&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;concurrently&quot;</span><span class="o">:</span> <span class="s2">&quot;^3.0.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;typescript&quot;</span><span class="o">:</span> <span class="s2">&quot;~2.0.10&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>As with the <code>systemjs-config.js</code> file discussed below, this was taken directly from the <a href="https://angular.io/docs/ts/latest/quickstart.html">Angular 2 Quickstart Guide</a>.</p>

<p>There are three entries specific to jsPlumb:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="s2">&quot;jsplumbtoolkit&quot;</span><span class="o">:</span><span class="s2">&quot;file:../../jsplumbtoolkit.tgz&quot;</span><span class="p">,</span>
<span class="s2">&quot;jsplumbtoolkittypes&quot;</span><span class="o">:</span><span class="s2">&quot;file:../../types/jsplumbtoolkit&quot;</span><span class="p">,</span>
<span class="s2">&quot;jsplumbtypes&quot;</span><span class="o">:</span><span class="s2">&quot;file:../../types/jsplumb&quot;</span>
</code></pre></div>
<p>The first of these is the jsPlumb Toolkit code. The other two entries link to the Typescript Definition files, which are discussed 
<a href="angular2-integration.html#typescript-definitions">here</a>.</p>

<p><a href="#top">TOP</a></p>

<hr>

<p><a id="setup"></a></p>

<h3>Page Setup</h3>

<h6>CSS</h6>
<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;node_modules/font-awesome/css/font-awesome.min.css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;node_modules/jsplumbtoolkit/dist/css/jsplumbtoolkit-defaults.css&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;node_modules/jsplumbtoolkit/dist/css/jsplumbtoolkit-demo.css&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;app.css&quot;</span><span class="nt">&gt;</span>
</code></pre></div>
<p>Font Awesome, Bootstrap, <code>jsplumbtoolkit-demo.css</code>, and <code>app.css</code> are used for this demo and are not jsPlumb Toolkit requirements. <code>jsplumbtoolkit-defaults.css</code> is recommended for 
all apps using the Toolkit, at least when you first start to build your app. This stylesheet contains sane defaults for the various widgets in the Toolkit.</p>

<h6>JS</h6>
<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;node_modules/core-js/client/shim.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;node_modules/zone.js/dist/zone.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;node_modules/systemjs/dist/system.src.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;systemjs.config.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
    System.import(&#39;app&#39;).catch(function(err){ console.error(err); });
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>
<p>We use SystemJS as the loader for this application; this is fairly common with Angular 2 apps. The actual source files, which are Typescript files in the <code>src</code> directory, are:</p>

<ul>
<li><strong>src/main.ts</strong>  Launcher</li>
<li><strong>src/app.module.ts</strong> Application module definition</li>
<li><strong>src/app.component.js</strong> Main demo component and business logic.</li>
</ul>

<p><a href="#top">TOP</a></p>

<hr>

<p><a id="typescript-setup"></a></p>

<h3>Typescript Setup</h3>

<p>This is the <code>tsconfig.json</code> file used by this demonstration:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
  <span class="s2">&quot;compilerOptions&quot;</span><span class="o">:</span> <span class="p">{</span>
    <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="s2">&quot;es5&quot;</span><span class="p">,</span>
    <span class="s2">&quot;module&quot;</span><span class="o">:</span> <span class="s2">&quot;commonjs&quot;</span><span class="p">,</span>
    <span class="s2">&quot;moduleResolution&quot;</span><span class="o">:</span> <span class="s2">&quot;node&quot;</span><span class="p">,</span>
    <span class="s2">&quot;sourceMap&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;emitDecoratorMetadata&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;experimentalDecorators&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;lib&quot;</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;es2015&quot;</span><span class="p">,</span> <span class="s2">&quot;dom&quot;</span> <span class="p">],</span>
    <span class="s2">&quot;noImplicitAny&quot;</span><span class="o">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">&quot;suppressImplicitAnyIndexErrors&quot;</span><span class="o">:</span> <span class="kc">true</span>

  <span class="p">},</span>
  <span class="s2">&quot;include&quot;</span><span class="o">:</span><span class="p">[</span> <span class="s2">&quot;src/**/*&quot;</span> <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>The two things to note here are that we use <code>commonjs</code> as the <code>module</code> type, and we have <code>moduleResolution</code> set to <code>node</code>. Both of these settings are required by jsPlumb.</p>

<p><a href="#top">TOP</a></p>

<hr>

<p><a id="systemjs-setup"></a></p>

<h3>SystemJS Setup</h3>

<p>This is the config file for SystemJS we use in this demonstration. This is taken directly from the <a href="https://angular.io/docs/ts/latest/quickstart.html">Angular 2 Quickstart Guide</a>, with the addition of entries for 
the Community and Toolkit editions of jsPlumb:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="cm">/**</span>
<span class="cm"> * System configuration for Angular samples</span>
<span class="cm"> * Adjust as necessary for your application needs.</span>
<span class="cm"> */</span>
<span class="p">(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">global</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">System</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span>
    <span class="nx">paths</span><span class="o">:</span> <span class="p">{</span>
      <span class="c1">// paths serve as alias</span>
      <span class="s1">&#39;npm:&#39;</span><span class="o">:</span> <span class="s1">&#39;node_modules/&#39;</span>
    <span class="p">},</span>
    <span class="c1">// map tells the System loader where to look for things</span>
    <span class="nx">map</span><span class="o">:</span> <span class="p">{</span>
      <span class="c1">// our app is within the app folder</span>
      <span class="nx">app</span><span class="o">:</span> <span class="s1">&#39;src&#39;</span><span class="p">,</span>

      <span class="c1">// angular bundles</span>
      <span class="s1">&#39;@angular/core&#39;</span><span class="o">:</span> <span class="s1">&#39;npm:@angular/core/bundles/core.umd.js&#39;</span><span class="p">,</span>
      <span class="s1">&#39;@angular/common&#39;</span><span class="o">:</span> <span class="s1">&#39;npm:@angular/common/bundles/common.umd.js&#39;</span><span class="p">,</span>
      <span class="s1">&#39;@angular/compiler&#39;</span><span class="o">:</span> <span class="s1">&#39;npm:@angular/compiler/bundles/compiler.umd.js&#39;</span><span class="p">,</span>
      <span class="s1">&#39;@angular/platform-browser&#39;</span><span class="o">:</span> <span class="s1">&#39;npm:@angular/platform-browser/bundles/platform-browser.umd.js&#39;</span><span class="p">,</span>
      <span class="s1">&#39;@angular/platform-browser-dynamic&#39;</span><span class="o">:</span> <span class="s1">&#39;npm:@angular/platform-browser-dynamic/bundles/platform-browser-dynamic.umd.js&#39;</span><span class="p">,</span>
      <span class="s1">&#39;@angular/http&#39;</span><span class="o">:</span> <span class="s1">&#39;npm:@angular/http/bundles/http.umd.js&#39;</span><span class="p">,</span>
      <span class="s1">&#39;@angular/router&#39;</span><span class="o">:</span> <span class="s1">&#39;npm:@angular/router/bundles/router.umd.js&#39;</span><span class="p">,</span>
      <span class="s1">&#39;@angular/forms&#39;</span><span class="o">:</span> <span class="s1">&#39;npm:@angular/forms/bundles/forms.umd.js&#39;</span><span class="p">,</span>

      <span class="s1">&#39;jsplumbtoolkit&#39;</span><span class="o">:</span><span class="s2">&quot;npm:jsplumbtoolkit/dist/js/jsplumbtoolkit.js&quot;</span><span class="p">,</span>

      <span class="c1">// other libraries</span>
      <span class="s1">&#39;rxjs&#39;</span><span class="o">:</span>                      <span class="s1">&#39;npm:rxjs&#39;</span><span class="p">,</span>
      <span class="s1">&#39;angular-in-memory-web-api&#39;</span><span class="o">:</span> <span class="s1">&#39;npm:angular-in-memory-web-api/bundles/in-memory-web-api.umd.js&#39;</span>
    <span class="p">},</span>
    <span class="c1">// packages tells the System loader how to load when no filename and/or no extension</span>
    <span class="nx">packages</span><span class="o">:</span> <span class="p">{</span>
      <span class="nx">app</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">main</span><span class="o">:</span> <span class="s1">&#39;./main.js&#39;</span><span class="p">,</span>
        <span class="nx">defaultExtension</span><span class="o">:</span> <span class="s1">&#39;js&#39;</span>
      <span class="p">},</span>
      <span class="nx">rxjs</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">defaultExtension</span><span class="o">:</span> <span class="s1">&#39;js&#39;</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="p">});</span>
<span class="p">})(</span><span class="k">this</span><span class="p">);</span>
</code></pre></div>
<p>The jsPlumb Toolkit is referenced in <code>package.json</code> as a local file.</p>

<h2><a href="#top">TOP</a></h2>

<p><a id="templates"></a></p>

<h3>Templates</h3>

<p>Templates are stored in the <code>templates</code> directory as HTML files.</p>

<p>This is the template used to render Nodes: </p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;div&gt;
    &lt;div class=&quot;name&quot;&gt;
        &lt;div class=&quot;delete&quot; title=&quot;Click to delete&quot; (click)=&quot;remove(node)&quot;&gt;
            &lt;i class=&quot;fa fa-times&quot;&gt;&lt;/i&gt;
        &lt;/div&gt;
        &lt;span&gt;&lt;/span&gt;
    &lt;/div&gt;
    &lt;div class=&quot;connect&quot;&gt;&lt;/div&gt;
    &lt;jtk-source filter=&quot;.connect&quot;&gt;&lt;/jtk-source&gt;
    &lt;jtk-target&gt;&lt;/jtk-target&gt;
&lt;/div&gt;
</code></pre></div>
<p>This is the template used to render Groups:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;div&gt;
    &lt;div class=&quot;group-title&quot;&gt;

        &lt;button class=&quot;expand&quot; (click)=&quot;toggleGroup(node)&quot;&gt;&lt;/button&gt;
    &lt;/div&gt;
    &lt;div jtk-group-content=&quot;true&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre></div>
<p>Group templates can have arbitrary markup as with Node templates. By default, the DOM element representing any Node 
that is a child of the Group will be appended to the Group&#39;s root element. You can, however, mark a place in the Group
element that should act as the parent of Node elements - by setting <code>jsplumb-group-content=&quot;true&quot;</code> on the element you
wish to use. In this demo we use that concept to provide a title bar for each Group onto which Node elements can never
be dragged.</p>

<p>These templates are written in Angular 2&#39;s template format.  </p>

<p><a href="#top">TOP</a></p>

<hr>

<p><a id="loading"></a></p>

<h3>Data Loading</h3>

<p>This is the data used by this demonstration:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
    <span class="s2">&quot;groups&quot;</span><span class="o">:</span><span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="o">:</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="o">:</span><span class="s2">&quot;Group 1&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span><span class="mi">100</span><span class="p">,</span> <span class="nx">top</span><span class="o">:</span><span class="mi">50</span> <span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="o">:</span><span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="o">:</span><span class="s2">&quot;Group 2&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span><span class="mi">450</span><span class="p">,</span> <span class="nx">top</span><span class="o">:</span><span class="mi">250</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s2">&quot;constrained&quot;</span>  <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;nodes&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;window1&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nx">group</span><span class="o">:</span><span class="s2">&quot;one&quot;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;window2&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span> <span class="mi">140</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nx">group</span><span class="o">:</span><span class="s2">&quot;one&quot;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;window3&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="o">:</span> <span class="mi">50</span> <span class="p">},</span>
        <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;window4&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span> <span class="mi">110</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="o">:</span> <span class="mi">370</span> <span class="p">},</span>
        <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;window5&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span> <span class="mi">140</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="o">:</span> <span class="mi">150</span><span class="p">,</span> <span class="nx">group</span><span class="o">:</span><span class="s2">&quot;one&quot;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;window6&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nx">group</span><span class="o">:</span><span class="s2">&quot;two&quot;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;window7&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="o">:</span> <span class="mi">450</span> <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;edges&quot;</span><span class="o">:</span> <span class="p">[</span>
        <span class="p">{</span> <span class="s2">&quot;source&quot;</span><span class="o">:</span> <span class="s2">&quot;window1&quot;</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="s2">&quot;window3&quot;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="s2">&quot;source&quot;</span><span class="o">:</span> <span class="s2">&quot;window1&quot;</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="s2">&quot;window4&quot;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="s2">&quot;source&quot;</span><span class="o">:</span> <span class="s2">&quot;window3&quot;</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="s2">&quot;window5&quot;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="s2">&quot;source&quot;</span><span class="o">:</span> <span class="s2">&quot;window5&quot;</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="s2">&quot;window2&quot;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="s2">&quot;source&quot;</span><span class="o">:</span> <span class="s2">&quot;window4&quot;</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="s2">&quot;window6&quot;</span> <span class="p">},</span>
        <span class="p">{</span> <span class="s2">&quot;source&quot;</span><span class="o">:</span> <span class="s2">&quot;window6&quot;</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="s2">&quot;window2&quot;</span> <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>
<p>As with Nodes, if you&#39;re using the <code>Absolute</code> layout, you can specify left/top properties for the element.</p>

<p>Additionally, Groups are considered to have a <code>type</code>, just like Nodes, whose default value is <code>default</code>, but which can
be overridden in the same way as that of Nodes. Here we see the Group 2 is defined to be of type <code>constrained</code>, which we
will discuss in the <a href="#view">View</a> section below.</p>

<p>The relationship between Nodes and Groups is written into each Node&#39;s data, not into the Group data. Here we see that
4 of the Nodes in our dataset have a <code>group</code> declared.</p>

<p><a href="#top">TOP</a></p>

<hr>

<p><a name="bootstrap"></a></p>

<h3>Bootstrap</h3>

<p>We use SystemJS to bootstrap the application:</p>
<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;systemjs.config.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
    System.import(&#39;app&#39;).catch(function(err){ console.error(err); });
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>
<p>Here, <code>app</code> is a module defined in <code>src/app.module.ts</code>:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">import</span> <span class="p">{</span> <span class="nx">NgModule</span><span class="p">,</span> <span class="nx">CUSTOM_ELEMENTS_SCHEMA</span> <span class="p">}</span>      <span class="nx">from</span> <span class="s1">&#39;@angular/core&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">BrowserModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s1">&#39;@angular/platform-browser&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">AppComponent</span><span class="p">,</span> <span class="nx">QuestionNodeComponent</span><span class="p">,</span> <span class="nx">ActionNodeComponent</span><span class="p">,</span> <span class="nx">StartNodeComponent</span><span class="p">,</span> <span class="nx">OutputNodeComponent</span> <span class="p">}</span>  <span class="nx">from</span> <span class="s1">&#39;./app.component&#39;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">jsPlumbToolkitModule</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;./jsplumbtoolkit-angular2&quot;</span><span class="p">;</span>
<span class="kr">import</span> <span class="p">{</span> <span class="nx">Dialogs</span> <span class="p">}</span> <span class="nx">from</span> <span class="s2">&quot;jsplumbtoolkit&quot;</span>

<span class="err">@</span><span class="nx">NgModule</span><span class="p">({</span>
    <span class="nx">imports</span><span class="o">:</span>      <span class="p">[</span> <span class="nx">BrowserModule</span><span class="p">,</span> <span class="nx">jsPlumbToolkitModule</span> <span class="p">],</span>
    <span class="nx">declarations</span><span class="o">:</span> <span class="p">[</span> <span class="nx">AppComponent</span><span class="p">,</span> <span class="nx">QuestionNodeComponent</span><span class="p">,</span> <span class="nx">ActionNodeComponent</span><span class="p">,</span> <span class="nx">StartNodeComponent</span><span class="p">,</span> <span class="nx">OutputNodeComponent</span> <span class="p">],</span>
    <span class="nx">bootstrap</span><span class="o">:</span>    <span class="p">[</span> <span class="nx">AppComponent</span> <span class="p">],</span>
    <span class="nx">entryComponents</span><span class="o">:</span> <span class="p">[</span> <span class="nx">QuestionNodeComponent</span><span class="p">,</span> <span class="nx">ActionNodeComponent</span><span class="p">,</span> <span class="nx">StartNodeComponent</span><span class="p">,</span> <span class="nx">OutputNodeComponent</span> <span class="p">],</span>
    <span class="nx">schemas</span><span class="o">:</span><span class="p">[</span> <span class="nx">CUSTOM_ELEMENTS_SCHEMA</span> <span class="p">]</span>
<span class="p">})</span>
<span class="kr">export</span> <span class="kr">class</span> <span class="nx">AppModule</span> <span class="p">{</span> 
    <span class="nx">constructor</span><span class="p">()</span> <span class="p">{</span>
        <span class="c1">// initialize dialogs</span>
        <span class="nx">Dialogs</span><span class="p">.</span><span class="nx">initialize</span><span class="p">({</span>
            <span class="nx">selector</span><span class="o">:</span> <span class="s2">&quot;.dlg&quot;</span>
        <span class="p">});</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><a id="components"></a></p>

<h3>Components</h3>

<p>The demo is written as a root level component, which itself uses components from the jsPlumb Angular 2 module.</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;jsplumb-toolkit jtk-id=&quot;demoToolkit&quot; surface-id=&quot;demoSurface&quot; style=&quot;width:750px;height:600px;position:relative;margin-right: 20px;&quot;&gt;

    ...

    &lt;!-- miniview --&gt;
    &lt;jsplumb-miniview surface-id=&quot;flowchartSurface&quot; class=&quot;miniview&quot;&gt;&lt;/jsplumb-miniview&gt;

&lt;/jsplumb-toolkit&gt;
</code></pre></div>
<p>Points to note:</p>

<ul>
<li>Both <code>params</code> (for the Toolkit constructor) and <code>renderParams</code> (for the renderer) are provided.</li>
<li>An ID is assigned to the Toolkit and to the surface</li>
<li>An <code>init</code> method is declared; this will be executed after the Toolkit and Surface have been created.</li>
</ul>

<p>Here is how the palette (the set of nodes that can be dragged into the work area) is declared:</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;div class=&quot;sidebar node-palette&quot; jsplumb-palette selector=&quot;li&quot; surface-id=&quot;flowchartSurface&quot; type-extractor=&quot;DemoController.typeExtractor&quot;&gt;
    &lt;ul ng-repeat=&quot;node in nodeTypes&quot;&gt;
        &lt;li jtk-node-type=&quot;{{ node.type }} &quot; title=&quot;Drag to add new&quot;&gt;
            {{node.label}} 
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;
</code></pre></div>
<p>Points to note:</p>

<ul>
<li><code>nodeTypes</code> is an object in the scope of <code>DemoController</code>.</li>
<li><code>surface-id</code> maps to the <code>surface-id</code> specified in the <code>jsplumb-toolkit</code> directive.</li>
<li>The <code>selector</code> attribute instructs the Palette to look for any <code>li</code> elements that are descendants of the Palette&#39;s element.</li>
<li>A <code>type-extractor</code> function is specified; this is what determines the type of newly dropped elements.</li>
</ul>

<p><a href="#top">TOP</a></p>

<hr>

<p><a id="toolkitParams"></a></p>

<h3>Toolkit Parameters</h3>

<p>The Toolkit instance is created with a <code>groupFactory</code> and a <code>nodeFactory</code>; these are the functions used when a new
Group or Node is created after the user drags something on to the canvas:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">toolkitParams</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">groupFactory</span><span class="o">:</span><span class="p">(</span><span class="nx">type</span><span class="o">:</span><span class="nx">string</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span><span class="nx">any</span><span class="p">,</span> <span class="nx">callback</span><span class="o">:</span><span class="nb">Function</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">data</span><span class="p">.</span><span class="nx">title</span> <span class="o">=</span> <span class="s2">&quot;Group &quot;</span> <span class="o">+</span> <span class="p">(</span><span class="nx">toolkit</span><span class="p">.</span><span class="nx">getGroupCount</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
        <span class="nx">callback</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">},</span>
    <span class="nx">nodeFactory</span><span class="o">:</span><span class="p">(</span><span class="nx">type</span><span class="o">:</span><span class="nx">string</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span><span class="nx">any</span><span class="p">,</span> <span class="nx">callback</span><span class="o">:</span><span class="nb">Function</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="nx">data</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="p">(</span><span class="nx">toolkit</span><span class="p">.</span><span class="nx">getNodeCount</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span>
        <span class="nx">callback</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<p><a href="#top">TOP</a></p>

<hr>

<p><a id="renderParams"></a></p>

<h3>Surface Parameters</h3>

<p>Render params are declared as a member of the demo component, and referenced in the <code>jsplumb-toolkit</code> component declaration in the demo component&#39;s template:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">renderParams</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">layout</span><span class="o">:</span><span class="p">{</span>
        <span class="nx">type</span><span class="o">:</span><span class="s2">&quot;Absolute&quot;</span>
    <span class="p">},</span>
    <span class="nx">events</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">canvasClick</span><span class="o">:</span> <span class="p">(</span><span class="nx">e</span><span class="o">:</span><span class="nx">Event</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="k">this</span><span class="p">.</span><span class="nx">toolkitComponent</span><span class="p">.</span><span class="nx">toolkit</span><span class="p">.</span><span class="nx">clearSelection</span><span class="p">();</span>
        <span class="p">},</span>
        <span class="nx">modeChanged</span><span class="o">:</span><span class="p">(</span><span class="nx">mode</span><span class="o">:</span><span class="nx">string</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
            <span class="kd">var</span> <span class="nx">controls</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&quot;.controls&quot;</span><span class="p">);</span>
            <span class="nx">jsPlumb</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">controls</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">&quot;[mode]&quot;</span><span class="p">),</span> <span class="s2">&quot;selected-mode&quot;</span><span class="p">);</span>
            <span class="nx">jsPlumb</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">controls</span><span class="p">.</span><span class="nx">querySelectorAll</span><span class="p">(</span><span class="s2">&quot;[mode=&#39;&quot;</span> <span class="o">+</span> <span class="nx">mode</span> <span class="o">+</span> <span class="s2">&quot;&#39;]&quot;</span><span class="p">),</span> <span class="s2">&quot;selected-mode&quot;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nx">jsPlumb</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">Anchor</span><span class="o">:</span><span class="s2">&quot;Continuous&quot;</span><span class="p">,</span>
        <span class="nx">Endpoint</span><span class="o">:</span> <span class="s2">&quot;Blank&quot;</span><span class="p">,</span>
        <span class="nx">Connector</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;StateMachine&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">cssClass</span><span class="o">:</span> <span class="s2">&quot;connectorClass&quot;</span><span class="p">,</span> <span class="nx">hoverClass</span><span class="o">:</span> <span class="s2">&quot;connectorHoverClass&quot;</span> <span class="p">}</span> <span class="p">],</span>
        <span class="nx">PaintStyle</span><span class="o">:</span> <span class="p">{</span> <span class="nx">strokeWidth</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">stroke</span><span class="o">:</span> <span class="s1">&#39;#89bcde&#39;</span> <span class="p">},</span>
        <span class="nx">HoverPaintStyle</span><span class="o">:</span> <span class="p">{</span> <span class="nx">stroke</span><span class="o">:</span> <span class="s2">&quot;orange&quot;</span> <span class="p">},</span>
        <span class="nx">Overlays</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">[</span> <span class="s2">&quot;Arrow&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">fill</span><span class="o">:</span> <span class="s2">&quot;#09098e&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">length</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">location</span><span class="o">:</span> <span class="mi">1</span> <span class="p">}</span> <span class="p">]</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="nx">lassoFilter</span><span class="o">:</span> <span class="s2">&quot;.controls, .controls *, .miniview, .miniview *&quot;</span><span class="p">,</span>
    <span class="nx">dragOptions</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">filter</span><span class="o">:</span> <span class="s2">&quot;.delete *&quot;</span>
    <span class="p">},</span>
    <span class="nx">consumeRightClick</span><span class="o">:</span><span class="kc">false</span>
<span class="p">};</span>
</code></pre></div>
<h5>layout</h5>

<p>Parameters for the layout. Here we specify an <code>Absolute</code> layout. It is the only layout currently that supports Groups.</p>

<h5>lassoFilter</h5>

<p>This selector specifies elements on which a mousedown should not cause the selection lasso to begin. In this 
demonstration we exclude the buttons in the top left and the miniview.</p>

<h5>events</h5>

<p>We listen for two events:</p>

<p><code>canvasClick</code> - a click somewhere on the widget&#39;s whitespace. Then we clear the Toolkit&#39;s current selection.</p>

<p><code>modeChanged</code> - Surface&#39;s mode has changed (either &quot;select&quot; or &quot;pan&quot;). We update the state of the buttons.</p>

<h5>dragOptions</h5>

<p>We define a filter for elements that should not cause a node to be dragged.</p>

<h5>jsPlumb</h5>

<p>Recall that the Surface widget is backed by an instance of jsPlumb Community Edition. This parameter sets 
the <a href="/community/doc/defaults.html">Defaults</a> for that object.</p>

<p><a href="#top">TOP</a></p>

<hr>

<p><a id="view"></a></p>

<h3>View</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">view</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">nodes</span><span class="o">:</span><span class="p">{</span>
        <span class="s2">&quot;default&quot;</span><span class="o">:</span><span class="p">{</span>
            <span class="nx">template</span><span class="o">:</span><span class="s2">&quot;node&quot;</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nx">groups</span><span class="o">:</span><span class="p">{</span>
        <span class="s2">&quot;default&quot;</span><span class="o">:</span><span class="p">{</span>
            <span class="nx">template</span><span class="o">:</span><span class="s2">&quot;group&quot;</span><span class="p">,</span>
            <span class="nx">endpoint</span><span class="o">:</span><span class="s2">&quot;Blank&quot;</span><span class="p">,</span>
            <span class="nx">anchor</span><span class="o">:</span><span class="s2">&quot;Continuous&quot;</span><span class="p">,</span>
            <span class="nx">revert</span><span class="o">:</span><span class="kc">false</span><span class="p">,</span>
            <span class="nx">orphan</span><span class="o">:</span><span class="kc">true</span><span class="p">,</span>
            <span class="nx">constrain</span><span class="o">:</span><span class="kc">false</span>
        <span class="p">},</span>
        <span class="nx">constrained</span><span class="o">:</span><span class="p">{</span>
            <span class="nx">parent</span><span class="o">:</span><span class="s2">&quot;default&quot;</span><span class="p">,</span>
            <span class="nx">constrain</span><span class="o">:</span><span class="kc">true</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>
<p>The single Node mapping is the most basic Node mapping possible; Nodes derive their Anchor and Endpoint definitions from
the <code>jsPlumb</code> params passed in to the <a href="#renderParams">Surface parameters</a> discussed above.  </p>

<p>The Group mappings, though, bear a little discussion. First, the <code>default</code> Group mapping:</p>

<ul>
<li><em>template</em> - ID of the template to use to render Groups of this type</li>
<li><em>endpoint</em> - Definition of the Endpoint to use for Connections to the Group when it is collapsed.</li>
<li><em>anchor</em> - Definition of the Anchor to use for Connections to the Group when it is collapsed.</li>
<li><em>revert</em> - Whether or not to revert Nodes back into the Group element if they were dropped outside.</li>
<li><em>orphan</em> - Whether or not to remove Nodes from the Group if they were dragged outside of it and dropped. In actual fact
we did not need to set <code>revert</code> to false if <code>orphan</code> is set to true, but in this demo we included all the possible flags
just for completeness.</li>
<li><em>constrain</em> - Whether or not to constrain Nodes from being dragged outside of the Group&#39;s element. </li>
</ul>

<p>The <code>constrained</code> Group mapping is declared to extend <code>default</code>, so it gets all of the values defined therein, but it
overrides <code>constrain</code> to be true: Nodes cannot be dragged out of the Group element for this type of Group (in this demo
we set Group 2 to be of type <code>constrained</code>, and Group 1 - and any Groups dragged on - to be of type <code>default</code>).</p>

<p><a href="#top">TOP</a></p>

<hr>

<p><a name="initialisation"></a></p>

<h3>Initialisation</h3>

<p>The <code>ngAfterViewInit</code> method of the demo component looks like this:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kr">const</span> <span class="nx">toolkit</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">toolkitComponent</span><span class="p">.</span><span class="nx">toolkit</span><span class="p">;</span>
<span class="kr">const</span> <span class="nx">surface</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">toolkitComponent</span><span class="p">.</span><span class="nx">surface</span><span class="p">;</span>

<span class="kr">const</span> <span class="nx">controls</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">querySelector</span><span class="p">(</span><span class="s2">&quot;.controls&quot;</span><span class="p">);</span>
<span class="c1">// pan mode/select mode</span>
<span class="nx">jsPlumb</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">controls</span><span class="p">,</span> <span class="s2">&quot;tap&quot;</span><span class="p">,</span> <span class="s2">&quot;[mode]&quot;</span><span class="p">,</span>  <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="nx">surface</span><span class="p">.</span><span class="nx">setMode</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;mode&quot;</span><span class="p">));</span>
<span class="p">});</span>

<span class="c1">// on home button click, zoom content to fit.</span>
<span class="nx">jsPlumb</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">controls</span><span class="p">,</span> <span class="s2">&quot;tap&quot;</span><span class="p">,</span> <span class="s2">&quot;[reset]&quot;</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">toolkit</span><span class="p">.</span><span class="nx">clearSelection</span><span class="p">();</span>
    <span class="nx">surface</span><span class="p">.</span><span class="nx">zoomToFit</span><span class="p">();</span>
<span class="p">});</span>

<span class="c1">// this is just for the demo, to remind people to run npm install</span>
<span class="kr">const</span> <span class="nx">buildme</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s2">&quot;buildme&quot;</span><span class="p">);</span>
<span class="nx">buildme</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">removeChild</span><span class="p">(</span><span class="nx">buildme</span><span class="p">);</span>

<span class="c1">// ---------------- update data set -------------------------</span>
<span class="kd">var</span> <span class="nx">_syntaxHighlight</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">json</span><span class="o">:</span><span class="nx">string</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">json</span> <span class="o">=</span> <span class="nx">json</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&amp;/g</span><span class="p">,</span> <span class="s1">&#39;&amp;amp;&#39;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&lt;/g</span><span class="p">,</span> <span class="s1">&#39;&amp;lt;&#39;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/&gt;/g</span><span class="p">,</span> <span class="s1">&#39;&amp;gt;&#39;</span><span class="p">);</span>
    <span class="k">return</span> <span class="s2">&quot;&lt;pre&gt;&quot;</span> <span class="o">+</span> <span class="nx">json</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/(&quot;(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\&quot;])*&quot;(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">match</span><span class="p">)</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">cls</span> <span class="o">=</span> <span class="s1">&#39;number&#39;</span><span class="p">;</span>
        <span class="k">if</span> <span class="p">(</span><span class="sr">/^&quot;/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">match</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="sr">/:$/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">match</span><span class="p">))</span> <span class="p">{</span>
                <span class="nx">cls</span> <span class="o">=</span> <span class="s1">&#39;key&#39;</span><span class="p">;</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nx">cls</span> <span class="o">=</span> <span class="s1">&#39;string&#39;</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="sr">/true|false/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">match</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">cls</span> <span class="o">=</span> <span class="s1">&#39;boolean&#39;</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="sr">/null/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">match</span><span class="p">))</span> <span class="p">{</span>
            <span class="nx">cls</span> <span class="o">=</span> <span class="s1">&#39;null&#39;</span><span class="p">;</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="s1">&#39;&lt;span class=&quot;&#39;</span> <span class="o">+</span> <span class="nx">cls</span> <span class="o">+</span> <span class="s1">&#39;&quot;&gt;&#39;</span> <span class="o">+</span> <span class="nx">match</span> <span class="o">+</span> <span class="s1">&#39;&lt;/span&gt;&#39;</span><span class="p">;</span>
    <span class="p">})</span> <span class="o">+</span> <span class="s2">&quot;&lt;/pre&gt;&quot;</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">toolkit</span><span class="p">.</span><span class="nx">load</span><span class="p">({</span>
    <span class="nx">data</span> <span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;groups&quot;</span><span class="o">:</span><span class="p">[</span>
            <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="o">:</span><span class="s2">&quot;one&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="o">:</span><span class="s2">&quot;Group 1&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span><span class="mi">100</span><span class="p">,</span> <span class="nx">top</span><span class="o">:</span><span class="mi">50</span> <span class="p">},</span>
            <span class="p">{</span><span class="s2">&quot;id&quot;</span><span class="o">:</span><span class="s2">&quot;two&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="o">:</span><span class="s2">&quot;Group 2&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span><span class="mi">450</span><span class="p">,</span> <span class="nx">top</span><span class="o">:</span><span class="mi">250</span><span class="p">,</span> <span class="nx">type</span><span class="o">:</span><span class="s2">&quot;constrained&quot;</span>  <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;nodes&quot;</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;window1&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;1&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="o">:</span> <span class="mi">20</span><span class="p">,</span> <span class="nx">group</span><span class="o">:</span><span class="s2">&quot;one&quot;</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;window2&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span> <span class="mi">140</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nx">group</span><span class="o">:</span><span class="s2">&quot;one&quot;</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;window3&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span> <span class="mi">450</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="o">:</span> <span class="mi">50</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;window4&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;4&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span> <span class="mi">110</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="o">:</span> <span class="mi">370</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;window5&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;5&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span> <span class="mi">140</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="o">:</span> <span class="mi">150</span><span class="p">,</span> <span class="nx">group</span><span class="o">:</span><span class="s2">&quot;one&quot;</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;window6&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;6&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nx">group</span><span class="o">:</span><span class="s2">&quot;two&quot;</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s2">&quot;id&quot;</span><span class="o">:</span> <span class="s2">&quot;window7&quot;</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="o">:</span> <span class="s2">&quot;7&quot;</span><span class="p">,</span> <span class="s2">&quot;left&quot;</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="s2">&quot;top&quot;</span><span class="o">:</span> <span class="mi">450</span> <span class="p">}</span>
        <span class="p">],</span>
        <span class="s2">&quot;edges&quot;</span><span class="o">:</span> <span class="p">[</span>
            <span class="p">{</span> <span class="s2">&quot;source&quot;</span><span class="o">:</span> <span class="s2">&quot;window1&quot;</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="s2">&quot;window3&quot;</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s2">&quot;source&quot;</span><span class="o">:</span> <span class="s2">&quot;window1&quot;</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="s2">&quot;window4&quot;</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s2">&quot;source&quot;</span><span class="o">:</span> <span class="s2">&quot;window3&quot;</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="s2">&quot;window5&quot;</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s2">&quot;source&quot;</span><span class="o">:</span> <span class="s2">&quot;window5&quot;</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="s2">&quot;window2&quot;</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s2">&quot;source&quot;</span><span class="o">:</span> <span class="s2">&quot;window4&quot;</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="s2">&quot;window6&quot;</span> <span class="p">},</span>
            <span class="p">{</span> <span class="s2">&quot;source&quot;</span><span class="o">:</span> <span class="s2">&quot;window6&quot;</span><span class="p">,</span> <span class="s2">&quot;target&quot;</span><span class="o">:</span> <span class="s2">&quot;window2&quot;</span> <span class="p">}</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="nx">onload</span><span class="o">:</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">surface</span><span class="p">.</span><span class="nx">centerContent</span><span class="p">();</span>
        <span class="nx">surface</span><span class="p">.</span><span class="nx">repaintEverything</span><span class="p">();</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p><a href="#top">TOP</a></p>

<hr>

<p><a name="behaviour"></a></p>

<h3>Behaviour</h3>

<p>There are two pieces of behaviour that we need to code that are not completely handled for us by the Toolkit:  </p>

<ul>
<li>Delete Node</li>
<li>Collapse/Expand Group</li>
</ul>

<p>which is to say, the Toolkit&#39;s API provides functions to call to do these things, but there is no automatic binding of
these functions to elements in the UI.</p>

<h6>Delete Node</h6>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;div class=&quot;delete&quot; title=&quot;Click to delete&quot; (click)=&quot;remove(obj)&quot;&gt;
    &lt;i class=&quot;fa fa-times&quot;&gt;&lt;/i&gt;
&lt;/div&gt;
</code></pre></div><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">remove</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">toolkit</span><span class="p">.</span><span class="nx">removeNode</span><span class="p">(</span><span class="nx">obj</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<p><code>remove</code>, which is a method on the <code>NodeComponent</code>, makes a direct call to the <code>removeNode</code> method on the underlying Toolkit instance. </p>

<h6>Collapse/Expand Group</h6>
<div class="highlight"><pre><code class="language-text" data-lang="text">&lt;button class=&quot;expand&quot; (click)=&quot;toggleGroup(obj)&quot;&gt;&lt;/button&gt;
</code></pre></div><div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">toggleGroup</span><span class="p">(</span><span class="nx">group</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">surface</span><span class="p">.</span><span class="nx">toggleGroup</span><span class="p">(</span><span class="nx">group</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<p><code>toggleGroup</code> is a method on the <code>GroupComponent</code>. </p>

<p><a href="#top">TOP</a></p>

<hr>

<p><a id="selecting"></a></p>

<h3>Selecting Nodes</h3>

<p>Lasso selection is enabled by default on the Surface widget. To activate the lasso, click the pencil icon in the toolbar:</p>

<p><img src="select-lasso.png" alt="Lasso Select Mode"></p>

<p>The code that listens to clicks on this icon is as follows:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="c1">// pan mode/select mode</span>
<span class="nx">jsPlumb</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;.controls&quot;</span><span class="p">,</span> <span class="s2">&quot;tap&quot;</span><span class="p">,</span> <span class="s2">&quot;[mode]&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
  <span class="nx">renderer</span><span class="p">.</span><span class="nx">setMode</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;mode&quot;</span><span class="p">));</span>
<span class="p">});</span>
</code></pre></div>
<p>The tap listener extracts the desired mode from the button that was clicked and sets it on the renderer. This causes
a <code>modeChanged</code> event to be fired, which is picked up by the <code>modeChanged</code> event listener in the View.</p>

<p>Note that here we could have used a <code>click</code> listener, but <code>tap</code> works better for mobile devices.</p>

<h5>Lasso Operation</h5>

<p>The lasso works in two ways: when you drag from left to right, any node that intersects your lasso will be selected.  When you drag from right to left, only nodes that are enclosed by your lasso will be selected.</p>

<h5>Exiting Select Mode</h5>

<p>The Surface widget automatically exits select mode once the user has selected something. In this application we also listen to clicks on the whitespace in the widget and switch back to pan mode when we detect one. This is the <code>events</code> argument to the <code>render</code> call:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">events</span><span class="o">:</span> <span class="p">{</span>
  <span class="nx">canvasClick</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">toolkit</span><span class="p">.</span><span class="nx">clearSelection</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><code>clearSelection</code> clears the current selection and switches back to Pan mode.</p>

<p><a href="#top">TOP</a></p>

<hr>

<p><a id="adding"></a></p>

<h3>Adding New Nodes/Groups</h3>

<p>As discussed above, a <code>jsplumb-palette</code> is declared, which configures all of its child <code>li</code> elements to be droppable onto
the Surface canvas.  When a drop occurs, the type of the newly dragged node is calculated by the <code>typeExtractor</code> 
function declared on <code>DemoController</code>:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="k">this</span><span class="p">.</span><span class="nx">typeExtractor</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">el</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">el</span><span class="p">.</span><span class="nx">getAttribute</span><span class="p">(</span><span class="s2">&quot;jtk-node-type&quot;</span><span class="p">);</span>
<span class="p">};</span>
</code></pre></div>
<p>For a detailed discussion of this functionality, see <a href="rendering.html#dragpalette">this page</a>.</p>

<p><a href="#top">TOP</a></p>

<hr>

<p><a id="deleting"></a></p>

<h3>Deleting Nodes</h3>

<p><img src="demo-absolute-single-node.png" alt="Single Node"></p>

<p>Clicking the <strong>X</strong> button in this demonstration deletes the current node.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">jsPlumb</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s2">&quot;#canvas&quot;</span><span class="p">,</span> <span class="s2">&quot;tap&quot;</span><span class="p">,</span> <span class="s2">&quot;.delete *&quot;</span><span class="p">,</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">info</span> <span class="o">=</span> <span class="nx">toolkit</span><span class="p">.</span><span class="nx">getObjectInfo</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
  <span class="nx">toolkit</span><span class="p">.</span><span class="nx">removeNode</span><span class="p">(</span><span class="nx">info</span><span class="p">.</span><span class="nx">obj</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div>
<p><a href="#top">TOP</a></p>

<hr>

<p><a id="collapsing"></a></p>

<h3>Collapsing/Expanding Groups</h3>

<p>Clicking the <strong>-</strong> button in this demonstration collapses a Group. It then changes to a +, which, when clicked, 
expands the Group.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">jsPlumb</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="nx">canvasElement</span><span class="p">,</span> <span class="s2">&quot;tap&quot;</span><span class="p">,</span> <span class="s2">&quot;.group-title button&quot;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">info</span> <span class="o">=</span> <span class="nx">toolkit</span><span class="p">.</span><span class="nx">getObjectInfo</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">info</span><span class="p">.</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">renderer</span><span class="p">.</span><span class="nx">toggleGroup</span><span class="p">(</span><span class="nx">info</span><span class="p">.</span><span class="nx">obj</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>The label of the button is changed via css: when a group is collapsed, it is assigned the CSS class <code>jsplumb-group-collapsed</code>.
 In the CSS for this demo we have these rules:</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.group-title</span> <span class="nt">button</span><span class="nd">:after</span> <span class="p">{</span>
    <span class="k">content</span><span class="o">:</span><span class="s2">&quot;-&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="nc">.jtk-group.jtk-group-collapsed</span> <span class="nc">.group-title</span> <span class="nt">button</span><span class="nd">:after</span> <span class="p">{</span>
    <span class="k">content</span><span class="o">:</span><span class="s2">&quot;+&quot;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Another point to note is that the Toolkit does not take any specific action to &quot;collapse&quot; your Groups visually. It is left
up to you to respond to the <code>jsplumb-group-collapsed</code> class as you need to. In this demo, we simply hide the group content
area:</p>
<div class="highlight"><pre><code class="language-css" data-lang="css"><span class="nc">.jtk-group.jtk-group-collapsed</span> <span class="o">[</span><span class="nt">jtk-group-content</span><span class="o">]</span> <span class="p">{</span>
    <span class="k">display</span><span class="o">:</span><span class="k">none</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p><a href="#top">TOP</a></p>

                </div>
            </div>
        </div>

    </body>

</html>
