<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">
        <link rel="shortcut icon" href="../img/favicon.ico">
        <title>jsPlumb Toolkit - documentation</title>
        <link href="../../css/main.css" rel="stylesheet">
        <link href="//fonts.googleapis.com/css?family=Lato:400,700" rel="stylesheet">
<link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css" rel="stylesheet">
<link href="../css/main.css" rel="stylesheet">



        <link rel="stylesheet" href="../css/jsplumbtoolkit-defaults.css">
        <link rel="stylesheet" href="../css/jsplumbtoolkit-demo.css">
        <link rel="stylesheet" href="../css/jsplumb-doc.css">
    </head>

    <body>

        <div class="jtk-header">
    <a class="jtk-logo" href="../index.html"><img src="../img/logo-medium-jsplumb.png"></a>

    <div class="jtk-nav">
        <li><a href="../index.html#demos">DEMOS</a></li>
<li><a href="../doc/home.html">DOCS</a></li>
<li><a href="../apidocs/index.html">APIDOCS</a></li>

    </div>

</div>


        <div class="jtk-page-container padding-top-page " style="display:flex;">
            <div id="docs-nav" tabindex="0">
                <ul>
<li>Introduction

<ul>
<li><a href="home.html">Home</a></li>
<li><a href="basic-concepts.html">Basic Concepts</a></li>
<li><a href="basic-concepts.html#instantiating">Instantiating the Toolkit</a></li>
<li><a href="basic-concepts.html#basicloading">Loading Data</a></li>
<li><a href="basic-concepts.html#rendering">Rendering</a></li>
<li><a href="getting-started.html">Creating an app</a></li>
</ul></li>
<li>Data Model

<ul>
<li><a href="data-model.html">Overview</a></li>
<li><a href="data-model.html#format">Data Format</a></li>
<li><a href="data-model.html#node-edge-port-id">Node, Group, Edge and Port IDs</a></li>
<li><a href="data-model.html#node-edge-port-type">Node, Group, Edge and Port Type</a></li>
<li><a href="data-model.html#datafactories">Data Factories</a></li>
<li><a href="graph.html">Graph Operations</a></li>
</ul></li>
<li>Rendering

<ul>
<li><a href="rendering.html">Overview</a></li>
<li><a href="views.html">Configuring a View</a></li>
<li><a href="templating.html">Templating</a></li>
<li><a href="groups.html">Groups</a></li>
<li><a href="layouts.html">Layouts</a></li>
<li><a href="ui-states.html">UI States</a></li>
<li><a href="path-tracing.html">Path Tracing</a></li>
<li><a href="rendering.html#visibility">Hiding/Showing Elements</a></li>
<li><a href="rendering.html#dragpalette">Drag &amp; Drop Nodes</a></li>
<li><a href="navigation.html">Navigating your Dataset</a></li>
<li><a href="widget-surface.html#zooming">Zooming</a></li>
<li><a href="widget-surface.html">Surface Widget</a></li>
</ul></li>
<li>Data Management

<ul>
<li><a href="loading-and-saving-data.html">Loading &amp; Saving Data</a></li>
<li><a href="updating-data.html">Updating Data</a></li>
</ul></li>
<li>CSS

<ul>
<li><a href="css.html">Overview</a></li>
<li><a href="css.html#defaultcss">Default CSS Stylesheet</a></li>
<li><a href="css.html#ref">Class Reference</a></li>
</ul></li>
<li>Events

<ul>
<li><a href="events.html">Overview</a></li>
<li><a href="events.html#toolkit">Toolkit Events</a></li>
<li><a href="events.html#surface">Rendering Events</a></li>
</ul></li>
<li>Selecting Content

<ul>
<li><a href="selections.html">Selections</a></li>
<li><a href="selections.html#filter">Filtering</a></li>
<li><a href="paths.html">Paths</a></li>
</ul></li>
<li>Library Integrations

<ul>
<li><a href="angular-1.x-integration">Angular 1.x</a></li>
<li><a href="angular-integration.html">Angular 4/Angular 2</a></li>
<li><a href="react-integration.html">React</a> </li>
<li><a href="vue2-integration.html">Vue 2</a> </li>
</ul></li>
<li>Demonstrations<br>

<ul>
<li><a href="demo-hierarchical.html">Hierarchical Layout</a></li>
<li><a href="multiple-hierarchy.html">Hierarchy (multiple roots)</a></li>
<li><a href="demo-spring.html">Spring Layout</a></li>
<li><a href="demo-circular.html">Circular Layout</a></li>
<li><a href="demo-multiple.html">Multiple Renderers</a></li>
<li><a href="demo-paths.html">Path Tracing</a></li>
<li><a href="demo-absolute.html">Absolute Layout</a></li>
<li><a href="demo-database-visualizer.html">Database Visualizer</a></li>
<li><a href="demo-flowchart-builder.html">Flowchart Builder</a></li>
<li><a href="demo-angular-1.x">Angular 1.x Integration</a></li>
<li><a href="demo-angular.html">Angular 4 / Angular 2 Integration (Typescript)</a></li>
<li><a href="demo-react.html">React Integration</a></li>
<li><a href="demo-vue2.html">Vue 2 Integration</a></li>
<li><a href="demo-hello-world.html">Hello World</a></li>
<li><a href="demo-groups.html">Groups</a></li>
<li><a href="demo-angular-1.x-groups">Groups (Angular)</a></li>
<li><a href="demo-angular-groups.html">Groups (Angular 2)</a></li>
<li><a href="demo-active-filtering.html">Active Filtering</a></li>
<li><a href="demo-webpack.html">Webpack Bundling</a></li>
</ul></li>
<li>Miscellaneous

<ul>
<li><a href="dialogs.html">Dialogs</a></li>
<li><a href="drawing.html">Drawing</a></li>
<li><a href="changelog.html">Changelog</a></li>
</ul></li>
</ul>


            </div>
            <div id="docs">                
                <div class="markdown-body">
                    <p><a name="top"></a></p>

<h2>Path Tracing</h2>

<p>This is an example of the Toolkit&#39;s ability to trace an overlay along the shortest path from one Node to another.</p>

<p><img src="demo-path-tracing.png" alt="Path Tracing"></p>

<p>This page gives you an in-depth look at how the application is put together.</p>

<ul>
<li><a href="#package">package.json</a></li>
<li><a href="#setup">Page Setup</a></li>
<li><a href="#toolkitSetup">Toolkit Setup</a></li>
<li><a href="#templates">Templates</a></li>
<li><a href="#loading">Data Loading</a></li>
<li><a href="#view">View</a></li>
<li><a href="#rendering">Rendering</a></li>
<li><a href="#traversal">Path Traversal</a></li>
</ul>

<p><a id="package"></a></p>

<h3>package.json</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="p">{</span>
    <span class="s2">&quot;dependencies&quot;</span><span class="o">:</span> <span class="p">{</span>
        <span class="s2">&quot;font-awesome&quot;</span><span class="o">:</span> <span class="s2">&quot;^4.7.0&quot;</span><span class="p">,</span>
        <span class="s2">&quot;jsplumbtoolkit&quot;</span><span class="o">:</span> <span class="s2">&quot;file:../../jsplumbtoolkit.tgz&quot;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><a href="#top">TOP</a></p>

<hr>

<p><a id="setup"></a></p>

<h3>Page Setup</h3>

<h6>CSS</h6>
<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">&quot;node_modules/font-awesome/css/font-awesome.min.css&quot;</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;node_modules/jsplumbtoolkit/dist/css/jsplumbtoolkit-defaults.css&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;node_modules/jsplumbtoolkit/dist/css/jsplumbtoolkit-demo.css&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;app.css&quot;</span><span class="nt">&gt;</span>
</code></pre></div>
<p>Font Awesome, Bootstrap, <code>jsplumbtoolkit-demo.css</code>, and <code>app.css</code> are used for this demo and are not jsPlumb Toolkit requirements. <code>jsplumbtoolkit-defaults.css</code> is recommended for 
all apps using the Toolkit, at least when you first start to build your app. This stylesheet contains sane defaults for the various widgets in the Toolkit. </p>

<h6>JS</h6>
<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;node_modules/jsplumbtoolkit/dist/js/jsplumbtoolkit.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;app.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>
</code></pre></div>
<p>We import <code>jsplumbtoolkit.js</code> from <code>node_modules</code> (it was listed in <code>package.json</code>). <code>app.js</code> contains the demo code; it is discussed on this page.</p>

<p><a href="#top">TOP</a></p>

<hr>

<p><a id="toolkitSetup"></a></p>

<h3>Toolkit Setup</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">toolkit</span> <span class="o">=</span> <span class="nx">jsPlumbToolkit</span><span class="p">.</span><span class="nx">newInstance</span><span class="p">();</span>
</code></pre></div>
<p><a href="#top">TOP</a></p>

<hr>

<p><a id="templates"></a></p>

<h3>Templates</h3>

<p>The app uses a single template, with the default ID:</p>
<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;script</span> <span class="na">type=</span><span class="s">&quot;jtk&quot;</span> <span class="na">id=</span><span class="s">&quot;jtk-template-default&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;div&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;span&gt;</span>${name}<span class="nt">&lt;/span&gt;</span>
        <span class="nt">&lt;/div&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/script&gt;</span>
</code></pre></div>
<p><a href="#top">TOP</a></p>

<hr>

<p><a id="loading"></a></p>

<h3>Data Loading</h3>

<p>Data for this application is randomly generated from a demo support class:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">data</span> <span class="o">=</span> <span class="nx">jsPlumbToolkitDemoSupport</span><span class="p">.</span><span class="nx">randomGraph</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">10</span><span class="p">);</span>

<span class="nx">toolkit</span><span class="p">.</span><span class="nx">load</span><span class="p">({</span>
  <span class="nx">data</span><span class="o">:</span> <span class="nx">data</span>
<span class="p">});</span>
</code></pre></div>
<p><a href="#top">TOP</a></p>

<hr>

<p><a name="view"></a></p>

<h3>View</h3>

<p>In the View, we configure the appearance of Edges and Nodes, and we also handle node clicks to instigate
 path traversals. See <a href="#traversal">below</a> for a discussion of how path traversals are handler.</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"> <span class="kd">var</span> <span class="nx">view</span> <span class="o">=</span> <span class="p">{</span>
     <span class="nx">edges</span><span class="o">:</span> <span class="p">{</span>
         <span class="s2">&quot;default&quot;</span><span class="o">:</span> <span class="p">{</span>
             <span class="nx">paintStyle</span><span class="o">:</span> <span class="p">{</span> <span class="nx">lineWidth</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">strokeStyle</span><span class="o">:</span> <span class="s1">&#39;#89bcde&#39;</span> <span class="p">},</span>
             <span class="nx">overlays</span><span class="o">:</span> <span class="p">[</span>
                 <span class="p">[</span><span class="s2">&quot;Arrow&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">fillStyle</span><span class="o">:</span> <span class="s2">&quot;#89bcde&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">length</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">location</span><span class="o">:</span><span class="mi">1</span> <span class="p">}</span> <span class="p">]</span>
             <span class="p">]</span>
         <span class="p">},</span>
         <span class="s2">&quot;bidirectional&quot;</span><span class="o">:</span><span class="p">{</span>
             <span class="nx">overlays</span><span class="o">:</span> <span class="p">[</span>
                 <span class="p">[</span><span class="s2">&quot;Arrow&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">fillStyle</span><span class="o">:</span> <span class="s2">&quot;#89bcde&quot;</span><span class="p">,</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">length</span><span class="o">:</span> <span class="mi">10</span><span class="p">,</span> <span class="nx">location</span><span class="o">:</span><span class="mi">0</span><span class="p">,</span> <span class="nx">direction</span><span class="o">:-</span><span class="mi">1</span> <span class="p">}</span> <span class="p">]</span>
             <span class="p">]</span>
         <span class="p">}</span>
     <span class="p">},</span>
     <span class="nx">nodes</span><span class="o">:</span><span class="p">{</span>
         <span class="s2">&quot;default&quot;</span><span class="o">:</span><span class="p">{</span>
             <span class="nx">events</span><span class="o">:</span> <span class="p">{</span>
                 <span class="nx">tap</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span> <span class="p">{</span>
                     <span class="c1">// on node click...</span>
                     <span class="k">if</span> <span class="p">(</span><span class="nx">source</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
                         <span class="c1">//... either set the current path source. here we also add a class</span>
                         <span class="c1">// so you can see its selected.</span>
                         <span class="nx">source</span> <span class="o">=</span> <span class="nx">params</span><span class="p">;</span>
                         <span class="nx">jsPlumb</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">source</span><span class="p">.</span><span class="nx">el</span><span class="p">,</span> <span class="s2">&quot;jtk-animate-source&quot;</span><span class="p">);</span>
                     <span class="p">}</span>
                     <span class="k">else</span> <span class="p">{</span>
                         <span class="c1">// ...or trace a path from the current source to the clicked node.</span>
                         <span class="kd">var</span> <span class="nx">traced</span> <span class="o">=</span> <span class="nx">renderer</span><span class="p">.</span><span class="nx">tracePath</span><span class="p">({</span>
                             <span class="nx">source</span><span class="o">:</span><span class="nx">source</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span>
                             <span class="nx">target</span><span class="o">:</span><span class="nx">params</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span>
                             <span class="nx">overlay</span><span class="o">:</span><span class="p">[</span><span class="s2">&quot;Diamond&quot;</span><span class="p">,</span> <span class="p">{</span>
                                 <span class="nx">width</span><span class="o">:</span><span class="mi">15</span><span class="p">,</span>
                                 <span class="nx">length</span><span class="o">:</span><span class="mi">15</span><span class="p">,</span>
                                 <span class="nx">fillStyle</span><span class="o">:</span> <span class="s2">&quot;#89bcde&quot;</span>
                             <span class="p">}],</span>
                             <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
                                 <span class="nx">speed</span><span class="o">:</span> <span class="mi">250</span>
                             <span class="p">}</span>
                         <span class="p">});</span>
                         <span class="c1">// cleanup the source for the next one.</span>
                         <span class="nx">jsPlumb</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">source</span><span class="p">.</span><span class="nx">el</span><span class="p">,</span> <span class="s2">&quot;jtk-animate-source&quot;</span><span class="p">);</span>
                         <span class="nx">source</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

                         <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">traced</span><span class="p">)</span> <span class="p">{</span>
                             <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;No path found!&quot;</span><span class="p">);</span>
                         <span class="p">}</span>
                     <span class="p">}</span>
                 <span class="p">}</span>
             <span class="p">}</span>
         <span class="p">}</span>
     <span class="p">}</span>
 <span class="p">};</span>
</code></pre></div>
<p><a name="rendering"></a></p>

<h3>Rendering</h3>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">renderer</span> <span class="o">=</span> <span class="nx">toolkit</span><span class="p">.</span><span class="nx">load</span><span class="p">({</span><span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;json&quot;</span><span class="p">,</span> <span class="nx">data</span><span class="o">:</span> <span class="nx">data</span><span class="p">}).</span><span class="nx">render</span><span class="p">({</span>
    <span class="nx">container</span><span class="o">:</span> <span class="nx">canvasElement</span><span class="p">,</span>
    <span class="nx">view</span><span class="o">:</span><span class="nx">view</span><span class="p">,</span>
    <span class="nx">layout</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">type</span><span class="o">:</span> <span class="s2">&quot;Spring&quot;</span><span class="p">,</span>
        <span class="nx">padding</span><span class="o">:</span><span class="p">[</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">30</span> <span class="p">]</span>
    <span class="p">},</span>
    <span class="nx">miniview</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">container</span><span class="o">:</span> <span class="nx">miniviewElement</span>
    <span class="p">},</span>
    <span class="nx">lassoFilter</span><span class="o">:</span> <span class="s2">&quot;.controls, .controls *, .miniview, .miniview *&quot;</span><span class="p">,</span>
    <span class="nx">events</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">canvasClick</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">toolkit</span><span class="p">.</span><span class="nx">clearSelection</span><span class="p">();</span>
        <span class="p">},</span>
        <span class="nx">modeChanged</span><span class="o">:</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">mode</span><span class="p">)</span> <span class="p">{</span>
            <span class="nx">jsPlumb</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">jsPlumb</span><span class="p">.</span><span class="nx">getSelector</span><span class="p">(</span><span class="s2">&quot;[mode]&quot;</span><span class="p">),</span> <span class="s2">&quot;selected-mode&quot;</span><span class="p">);</span>
            <span class="nx">jsPlumb</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">jsPlumb</span><span class="p">.</span><span class="nx">getSelector</span><span class="p">(</span><span class="s2">&quot;[mode=&#39;&quot;</span> <span class="o">+</span> <span class="nx">mode</span> <span class="o">+</span> <span class="s2">&quot;&#39;]&quot;</span><span class="p">),</span> <span class="s2">&quot;selected-mode&quot;</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="nx">jsPlumb</span><span class="o">:</span> <span class="p">{</span>
        <span class="nx">Anchor</span><span class="o">:</span><span class="s2">&quot;Continuous&quot;</span><span class="p">,</span>
        <span class="nx">Connector</span><span class="o">:</span> <span class="p">[</span> <span class="s2">&quot;StateMachine&quot;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">cssClass</span><span class="o">:</span> <span class="s2">&quot;connectorClass&quot;</span><span class="p">,</span> <span class="nx">hoverClass</span><span class="o">:</span> <span class="s2">&quot;connectorHoverClass&quot;</span> <span class="p">}</span> <span class="p">],</span>
        <span class="nx">Endpoint</span><span class="o">:</span> <span class="s2">&quot;Blank&quot;</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>The meaning of each parameter is as follows:</p>

<ul>
<li><strong>container</strong>  The element into which to render. You can also provide an element ID here.</li>
<li><strong>view</strong> Mappings from Node/Edge/Port types to their visual representation/behaviour.</li>
<li><strong>layout</strong> We use a Spring layout in this demonstration.</li>
<li><strong>jsPlumb</strong> Defaults for the Surface&#39;s backing instance of jsPlumb.</li>
<li><strong>miniview</strong> Tthe element to turn into a Miniview. You can also provide an element ID here.</li>
<li><strong>events</strong> Provides event handler for events on the Surface. Here we listen for clicks and we clear
the current selection, as well as events that tell us the Surface&#39;s mode has changed.</li>
<li><strong>lassoFilter</strong> A Selector identifying which elements should not respond to the lasso&#39;s start drag event.</li>
</ul>

<p><a href="#top">TOP</a></p>

<hr>

<p><a name="traversal"></a></p>

<h3>Path Tracing</h3>

<p>Path tracing is handled in two stages:</p>

<ul>
<li>when a user taps a node and no previous node has been selected, that node becomes the source</li>
<li>when a user taps a node and there is already a source selected, the path is computed and traversed.</li>
</ul>

<p>The tap event is captured and handled inside the view:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">tap</span><span class="o">:</span><span class="kd">function</span><span class="p">(</span><span class="nx">params</span><span class="p">)</span> <span class="p">{</span>
 <span class="c1">// on node click...</span>
 <span class="k">if</span> <span class="p">(</span><span class="nx">source</span> <span class="o">==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
     <span class="c1">//... either set the current path source. here we also add a class</span>
     <span class="c1">// so you can see its selected.</span>
     <span class="nx">source</span> <span class="o">=</span> <span class="nx">params</span><span class="p">;</span>
     <span class="nx">jsPlumb</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="nx">source</span><span class="p">.</span><span class="nx">el</span><span class="p">,</span> <span class="s2">&quot;jtk-animate-source&quot;</span><span class="p">);</span>
 <span class="p">}</span>
 <span class="k">else</span> <span class="p">{</span>
     <span class="c1">// ...or trace a path from the current source to the clicked node.</span>
     <span class="kd">var</span> <span class="nx">traced</span> <span class="o">=</span> <span class="nx">renderer</span><span class="p">.</span><span class="nx">tracePath</span><span class="p">({</span>
         <span class="nx">source</span><span class="o">:</span><span class="nx">source</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span>
         <span class="nx">target</span><span class="o">:</span><span class="nx">params</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span>
         <span class="nx">overlay</span><span class="o">:</span><span class="p">[</span><span class="s2">&quot;Diamond&quot;</span><span class="p">,</span> <span class="p">{</span>
             <span class="nx">width</span><span class="o">:</span><span class="mi">15</span><span class="p">,</span>
             <span class="nx">length</span><span class="o">:</span><span class="mi">15</span><span class="p">,</span>
             <span class="nx">fillStyle</span><span class="o">:</span> <span class="s2">&quot;#89bcde&quot;</span>
         <span class="p">}],</span>
         <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
             <span class="nx">speed</span><span class="o">:</span> <span class="mi">250</span>
         <span class="p">}</span>
     <span class="p">});</span>

     <span class="c1">// cleanup the source for the next one.</span>
     <span class="nx">jsPlumb</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="nx">source</span><span class="p">.</span><span class="nx">el</span><span class="p">,</span> <span class="s2">&quot;jtk-animate-source&quot;</span><span class="p">);</span>
     <span class="nx">source</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

     <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">traced</span><span class="p">)</span> <span class="p">{</span>
         <span class="nx">alert</span><span class="p">(</span><span class="s2">&quot;No path found!&quot;</span><span class="p">);</span>
     <span class="p">}</span>
 <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p>The key piece of code here is the call to <code>tracePath</code> on the renderer:</p>
<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="kd">var</span> <span class="nx">traced</span> <span class="o">=</span> <span class="nx">renderer</span><span class="p">.</span><span class="nx">tracePath</span><span class="p">({</span>
     <span class="nx">source</span><span class="o">:</span><span class="nx">source</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span>
     <span class="nx">target</span><span class="o">:</span><span class="nx">params</span><span class="p">.</span><span class="nx">node</span><span class="p">,</span>
     <span class="nx">overlay</span><span class="o">:</span><span class="p">[</span><span class="s2">&quot;Diamond&quot;</span><span class="p">,</span> <span class="p">{</span>
         <span class="nx">width</span><span class="o">:</span><span class="mi">15</span><span class="p">,</span>
         <span class="nx">length</span><span class="o">:</span><span class="mi">15</span>
     <span class="p">}],</span>
     <span class="nx">options</span><span class="o">:</span> <span class="p">{</span>
         <span class="nx">speed</span><span class="o">:</span> <span class="mi">250</span>
     <span class="p">}</span>
 <span class="p">});</span>
</code></pre></div>
<p>The meaning of each parameter is:</p>

<ul>
<li><strong>source</strong> Either a Node, Node ID, or a DOM element to use as the path source</li>
<li><strong>target</strong> Either a Node, Node ID, or a DOM element to use as the path target</li>
<li><strong>overlay</strong> An Overlay specification in the <a href="/community/doc/overlays.html">standard format</a> used by the Community edition of jsPlumb.</li>
<li><strong>options</strong> Options for the path traversal. For a discussion of these, see <a href="path-tracing.html">here</a></li>
</ul>

                </div>
            </div>
        </div>

    </body>

</html>
